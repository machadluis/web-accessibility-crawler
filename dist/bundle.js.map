{"version":3,"file":"bundle.js","sources":["../src/utils.mjs","../src/crawler.mjs","../src/accessibility.mjs","../src/report.mjs","../src/index.mjs"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\n\nexport const configFilePath = path.resolve(\n  process.env.npm_config_local_prefix,\n  \"webAccessibility-config.json\"\n);\nexport const outputDir = path.resolve(\n  process.env.npm_config_local_prefix,\n  \"accessibility-results\"\n);\nexport const outputPath = path.join(outputDir, \"accessibility-results.json\");\nexport const outputHtmlPath = path.join(\n  outputDir,\n  \"accessibility-results.html\"\n);\nexport const outputPdfPath = path.join(outputDir, \"accessibility-results.pdf\");\n\nexport function escapeHtml(unsafe) {\n  return unsafe\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\");\n}\n\nexport function normalizeUrl(link, baseUrl) {\n  try {\n    const url = new URL(link, baseUrl);\n    url.search = \"\"; // Remove query parameters\n    url.hash = \"\"; // Remove anchor\n    return url.href;\n  } catch (error) {\n    console.error(\"Error normalizing URL:\", link);\n    return null;\n  }\n}\n\nexport function isMediaFile(url) {\n  const mediaExtensions = [\n    \".jpg\",\n    \".jpeg\",\n    \".png\",\n    \".gif\",\n    \".pdf\",\n    \".doc\",\n    \".docx\",\n    \".xls\",\n    \".xlsx\",\n    \".mp4\",\n    \".mp3\",\n  ];\n  return mediaExtensions.some((ext) => url.toLowerCase().includes(ext));\n}\n\nexport function loadConfig() {\n  console.log(`Loading configuration from ${configFilePath}...`);\n  if (!fs.existsSync(configFilePath)) {\n    throw new Error(`Configuration file not found at ${configFilePath}`);\n  }\n  return JSON.parse(fs.readFileSync(configFilePath, \"utf8\"));\n}\n\nexport function saveResults(results) {\n  if (!fs.existsSync(outputDir)) {\n    fs.mkdirSync(outputDir);\n  }\n  fs.writeFileSync(outputPath, JSON.stringify(results, null, 2));\n}\n\nexport const logAccessibilityIssues = async (\n  results,\n  pageUrl,\n  relativePath\n) => {\n  const violationsData = {\n    url: pageUrl,\n    relativePath: relativePath,\n    totalViolations: results.violations.length,\n    wcagCompliance: { wcag2a: 0, wcag2aa: 0, wcag21a: 0, wcag21aa: 0 },\n    ruleImpact: { minor: 0, moderate: 0, serious: 0, critical: 0 },\n    violations: [],\n  };\n\n  results.violations.forEach((violation) => {\n    violation.tags.forEach((tag) => {\n      if (violationsData.wcagCompliance.hasOwnProperty(tag)) {\n        violationsData.wcagCompliance[tag] += 1;\n      }\n    });\n    if (violationsData.ruleImpact.hasOwnProperty(violation.impact)) {\n      violationsData.ruleImpact[violation.impact] += 1;\n    }\n    violationsData.violations.push({\n      id: violation.id,\n      impact: violation.impact,\n      description: violation.description,\n      help: violation.help,\n      helpUrl: violation.helpUrl,\n      tags: violation.tags,\n      nodes: violation.nodes.map((node) => ({\n        target: node.target.join(\", \"),\n        html: escapeHtml(node.html),\n        failureSummary: node.failureSummary,\n        xpath: node.xpath ? node.xpath.join(\", \") : \"N/A\",\n      })),\n    });\n  });\n\n  const totalRequirements =\n    violationsData.wcagCompliance.wcag2a +\n    violationsData.wcagCompliance.wcag2aa +\n    violationsData.wcagCompliance.wcag21a +\n    violationsData.wcagCompliance.wcag21aa;\n\n  const compliancePercentage =\n    totalRequirements > 0\n      ? ((totalRequirements - violationsData.totalViolations) /\n          totalRequirements) *\n        100\n      : 100;\n\n  violationsData.compliancePercentage = compliancePercentage;\n  violationsData.totalRequirements = totalRequirements;\n\n  return violationsData;\n};\n","import puppeteer from \"puppeteer\";\nimport { normalizeUrl, isMediaFile } from \"./utils.mjs\";\n\nexport async function crawl(\n  baseUrl,\n  maxPagesToVisit = Infinity,\n  concurrency = 3\n) {\n  const visited = new Set();\n  const toVisit = [baseUrl];\n  const browser = await puppeteer.launch({ headless: true });\n\n  const visitPage = async (url) => {\n    if (visited.has(url)) return;\n    visited.add(url);\n    const page = await browser.newPage();\n    try {\n      console.log(`Currently visiting: ${url}`);\n      await page.goto(url, { waitUntil: \"networkidle0\", timeout: 30000 });\n      const links = await page.evaluate(() =>\n        Array.from(document.querySelectorAll(\"a[href]\"))\n          .map((a) => a.href)\n          .filter(\n            (href) =>\n              href && !href.startsWith(\"javascript:\") && !href.startsWith(\"#\")\n          )\n      );\n      links.forEach((link) => {\n        const normalizedUrl = normalizeUrl(link, baseUrl);\n        if (\n          normalizedUrl &&\n          normalizedUrl.startsWith(baseUrl) &&\n          !visited.has(normalizedUrl) &&\n          !isMediaFile(normalizedUrl)\n        ) {\n          toVisit.push(normalizedUrl);\n        }\n      });\n    } catch (error) {\n      console.error(`Error fetching URL: ${url}`, error.message);\n    } finally {\n      await page.close();\n    }\n  };\n\n  while (toVisit.length > 0 && visited.size < maxPagesToVisit) {\n    const batch = toVisit.splice(0, concurrency).map((url) => visitPage(url));\n    await Promise.all(batch);\n  }\n\n  await browser.close();\n  return Array.from(visited);\n}\n","import puppeteer from \"puppeteer\";\nimport { AxePuppeteer } from \"@axe-core/puppeteer\";\nimport { logAccessibilityIssues } from \"./utils.mjs\";\n\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY = 1000; // 1 second\n\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nexport const analyzePages = async (urls, concurrency = 2) => {\n  const results = [];\n  const browser = await puppeteer.launch({ headless: true });\n\n  const analyzePage = async (url, retries = 0) => {\n    let page;\n    try {\n      console.log(`Analyzing URL: ${url}`);\n      page = await browser.newPage();\n      await page.goto(url, { waitUntil: \"networkidle0\" });\n      const axe = new AxePuppeteer(page);\n      const result = await axe.analyze();\n      const violationsData = await logAccessibilityIssues(result, url, url);\n      results.push(violationsData);\n    } catch (error) {\n      console.error(`Error analyzing URL: ${url}`, error.message);\n      if (retries < MAX_RETRIES) {\n        console.log(`Retrying URL: ${url} (${retries + 1}/${MAX_RETRIES})`);\n        await delay(RETRY_DELAY);\n        await analyzePage(url, retries + 1);\n      }\n    } finally {\n      if (page) {\n        await page.close();\n      }\n    }\n  };\n\n  const promises = urls.map((url) => analyzePage(url));\n  await Promise.all(promises);\n\n  await browser.close();\n\n  console.log(\n    `Analysis complete. Results: ${JSON.stringify(results, null, 2)}`\n  );\n  return results;\n};\n","import fs from \"fs\";\nimport path from \"path\";\nimport puppeteer from \"puppeteer\";\nimport { outputHtmlPath, outputPdfPath, outputPath } from \"./utils.mjs\";\n\nexport const generatePdfReport = async (results) => {\n  const indexLinks = results\n    .map(\n      (result, i) => `<li>${i + 1}. <a href=\"#link${i}\">${result.url}</a></li>`\n    )\n    .join(\"\");\n\n  const htmlContent = `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n      <meta charset=\"UTF-8\">\n      <title>Accessibility Report</title>\n      <style>\n        body { font-family: Arial, sans-serif; margin: 20px; color: #333; }\n        .page { page-break-before: always; }\n        .section { page-break-inside: avoid; margin-bottom: 30px; }\n        table { border-collapse: collapse; width: 100%; margin-top: 10px; }\n        th, td { border: 1px solid #ddd; padding: 8px; font-size: 0.85em; word-wrap: break-word; }\n        th { background-color: #f4f4f4; }\n        tr:hover { background-color: #f0f0f0; }\n        tr, td { page-break-inside: avoid; }\n        .report-header { text-align: left; padding-bottom: 20px; }\n        .summary { margin-bottom: 10px; }\n        ul.index-list { list-style: none; padding-left: 0; }\n        ul.index-list li { margin-bottom: 5px; }\n        ul.index-list li a { text-decoration: none; color: #3366cc; }\n        ul.index-list li a:hover { text-decoration: underline; }\n      </style>\n    </head>\n    <body>\n      <div class=\"report-header\">\n        <h1>Accessibility Report</h1>\n        <h3>Index</h3>\n        <ul class=\"index-list\">${indexLinks}</ul>\n      </div>\n      ${results\n        .map(\n          (result, i) => `\n          <div class=\"section\">\n            <h2 id=\"link${i}\">${i + 1}. ${result.url}</h2>\n            <div class=\"summary\">\n              <p>Critical Issues: ${result.ruleImpact.critical}</p>\n              <p>Serious Issues: ${result.ruleImpact.serious}</p>\n              <p>Moderate/Mild Issues: ${result.ruleImpact.moderate}</p>\n              <p>Minor Issues: ${result.ruleImpact.minor}</p>\n            </div>\n            <table>\n              <tr>\n                <th>ID</th><th>Impact</th><th>Description</th><th>HTML</th><th>Failures</th>\n              </tr>\n              ${result.violations\n                .map((violation) =>\n                  violation.nodes\n                    .map(\n                      (node) => `\n                      <tr>\n                        <td>${violation.id}</td>\n                        <td>${violation.impact}</td>\n                        <td>${violation.description}</td>\n                        <td style=\"word-break: break-all;\">${node.html}</td>\n                        <td>${node.failureSummary}</td>\n                      </tr>\n                      `\n                    )\n                    .join(\"\")\n                )\n                .join(\"\")}\n            </table>\n          </div>\n          `\n        )\n        .join(\"\")}\n    </body>\n    </html>\n  `;\n\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.setContent(htmlContent, { waitUntil: \"networkidle0\" });\n  await page.pdf({\n    path: outputPdfPath,\n    format: \"A4\",\n    printBackground: true,\n    margin: { top: \"20mm\", bottom: \"20mm\", left: \"5mm\", right: \"5mm\" },\n  });\n  await browser.close();\n};\n\nexport const generateHtmlReport = async () => {\n  const templatePath = path.resolve(\n    process.env.npm_config_local_prefix,\n    \"src/index.html\"\n  );\n  const resultsPath = outputPath;\n\n  if (!fs.existsSync(templatePath)) {\n    throw new Error(`Template file not found at ${templatePath}`);\n  }\n\n  if (!fs.existsSync(resultsPath)) {\n    throw new Error(`Results file not found at ${resultsPath}`);\n  }\n\n  const templateContent = fs.readFileSync(templatePath, \"utf8\");\n  const resultsData = fs.readFileSync(resultsPath, \"utf8\");\n\n  const injectedContent = templateContent.replace(\n    \"<!-- Detailed results will be added here by JavaScript -->\",\n    `<script>const fetchedData = ${resultsData};</script>`\n  );\n\n  fs.writeFileSync(outputHtmlPath, injectedContent);\n  console.log(`HTML report generated at ${outputHtmlPath}`);\n};\n","import fs from \"fs\";\nimport { crawl } from \"./crawler.mjs\";\nimport { analyzePages } from \"./accessibility.mjs\";\nimport { generatePdfReport, generateHtmlReport } from \"./report.mjs\";\nimport { loadConfig, saveResults, outputPath } from \"./utils.mjs\";\n\nexport const main = async () => {\n  try {\n    console.log(\"Loading configuration...\");\n    const config = loadConfig();\n\n    if (!config.baseUrl) {\n      throw new Error(\"Base URL is missing in the configuration\");\n    }\n\n    console.log(\"Configuration loaded successfully:\", config);\n\n    let urlsToVisit = [];\n    const existingUrls = new Set();\n\n    if (fs.existsSync(outputPath)) {\n      console.log(`Reading existing results from ${outputPath}...`);\n      const existingData = JSON.parse(fs.readFileSync(outputPath, \"utf8\"));\n      existingData.forEach((entry) => existingUrls.add(entry.url));\n    }\n\n    if (config.relativePaths && config.relativePaths.length > 0) {\n      console.log(\"Using relative paths from configuration...\");\n      urlsToVisit = config.relativePaths.map(\n        (path) => `${config.baseUrl}${path}`\n      );\n    } else {\n      console.log(`Crawling ${config.baseUrl} to discover paths...`);\n      urlsToVisit = await crawl(config.baseUrl, config.maxPagesToVisit);\n    }\n\n    console.log(`URLs to analyze: ${urlsToVisit}`);\n\n    const results = await analyzePages(urlsToVisit, config.concurrency);\n\n    console.log(`Analysis results: ${JSON.stringify(results, null, 2)}`);\n\n    const allResults = results.filter(\n      (violationsData) => !existingUrls.has(violationsData.url)\n    );\n\n    console.log(\"Saving results...\");\n    saveResults(allResults);\n    console.log(\"Generating PDF report...\");\n    await generatePdfReport(allResults);\n    console.log(\"Generating HTML report...\");\n    await generateHtmlReport();\n    console.log(\"Accessibility test results saved successfully.\");\n  } catch (error) {\n    console.error(`Error in processing: ${error.message}`);\n    throw error; // Throw the error instead of calling process.exit\n  }\n};\n\nmain();\n"],"names":[],"mappings":";;;;;AAGO,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO;AAC1C,EAAE,OAAO,CAAC,GAAG,CAAC,uBAAuB;AACrC,EAAE;AACF,CAAC;AACM,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO;AACrC,EAAE,OAAO,CAAC,GAAG,CAAC,uBAAuB;AACrC,EAAE;AACF,CAAC;AACM,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,4BAA4B,CAAC;AACrE,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI;AACvC,EAAE,SAAS;AACX,EAAE;AACF,CAAC;AACM,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,2BAA2B,CAAC;;AAEvE,SAAS,UAAU,CAAC,MAAM,EAAE;AACnC,EAAE,OAAO;AACT,KAAK,OAAO,CAAC,IAAI,EAAE,OAAO;AAC1B,KAAK,OAAO,CAAC,IAAI,EAAE,MAAM;AACzB,KAAK,OAAO,CAAC,IAAI,EAAE,MAAM;AACzB,KAAK,OAAO,CAAC,IAAI,EAAE,QAAQ;AAC3B,KAAK,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;AAC5B;;AAEO,SAAS,YAAY,CAAC,IAAI,EAAE,OAAO,EAAE;AAC5C,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC;AACtC,IAAI,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;AACpB,IAAI,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;AAClB,IAAI,OAAO,GAAG,CAAC,IAAI;AACnB,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,IAAI,CAAC;AACjD,IAAI,OAAO,IAAI;AACf;AACA;;AAEO,SAAS,WAAW,CAAC,GAAG,EAAE;AACjC,EAAE,MAAM,eAAe,GAAG;AAC1B,IAAI,MAAM;AACV,IAAI,OAAO;AACX,IAAI,MAAM;AACV,IAAI,MAAM;AACV,IAAI,MAAM;AACV,IAAI,MAAM;AACV,IAAI,OAAO;AACX,IAAI,MAAM;AACV,IAAI,OAAO;AACX,IAAI,MAAM;AACV,IAAI,MAAM;AACV,GAAG;AACH,EAAE,OAAO,eAAe,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACvE;;AAEO,SAAS,UAAU,GAAG;AAC7B,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,2BAA2B,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC;AAChE,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;AACtC,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,gCAAgC,EAAE,cAAc,CAAC,CAAC,CAAC;AACxE;AACA,EAAE,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;AAC5D;;AAEO,SAAS,WAAW,CAAC,OAAO,EAAE;AACrC,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;AACjC,IAAI,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC;AAC3B;AACA,EAAE,EAAE,CAAC,aAAa,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAChE;;AAEO,MAAM,sBAAsB,GAAG;AACtC,EAAE,OAAO;AACT,EAAE,OAAO;AACT,EAAE;AACF,KAAK;AACL,EAAE,MAAM,cAAc,GAAG;AACzB,IAAI,GAAG,EAAE,OAAO;AAChB,IAAI,YAAY,EAAE,YAAY;AAC9B,IAAI,eAAe,EAAE,OAAO,CAAC,UAAU,CAAC,MAAM;AAC9C,IAAI,cAAc,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE;AACtE,IAAI,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE;AAClE,IAAI,UAAU,EAAE,EAAE;AAClB,GAAG;;AAEH,EAAE,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,SAAS,KAAK;AAC5C,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;AACpC,MAAM,IAAI,cAAc,CAAC,cAAc,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AAC7D,QAAQ,cAAc,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC;AAC/C;AACA,KAAK,CAAC;AACN,IAAI,IAAI,cAAc,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;AACpE,MAAM,cAAc,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC;AACtD;AACA,IAAI,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC;AACnC,MAAM,EAAE,EAAE,SAAS,CAAC,EAAE;AACtB,MAAM,MAAM,EAAE,SAAS,CAAC,MAAM;AAC9B,MAAM,WAAW,EAAE,SAAS,CAAC,WAAW;AACxC,MAAM,IAAI,EAAE,SAAS,CAAC,IAAI;AAC1B,MAAM,OAAO,EAAE,SAAS,CAAC,OAAO;AAChC,MAAM,IAAI,EAAE,SAAS,CAAC,IAAI;AAC1B,MAAM,KAAK,EAAE,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM;AAC5C,QAAQ,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;AACtC,QAAQ,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;AACnC,QAAQ,cAAc,EAAE,IAAI,CAAC,cAAc;AAC3C,QAAQ,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK;AACzD,OAAO,CAAC,CAAC;AACT,KAAK,CAAC;AACN,GAAG,CAAC;;AAEJ,EAAE,MAAM,iBAAiB;AACzB,IAAI,cAAc,CAAC,cAAc,CAAC,MAAM;AACxC,IAAI,cAAc,CAAC,cAAc,CAAC,OAAO;AACzC,IAAI,cAAc,CAAC,cAAc,CAAC,OAAO;AACzC,IAAI,cAAc,CAAC,cAAc,CAAC,QAAQ;;AAE1C,EAAE,MAAM,oBAAoB;AAC5B,IAAI,iBAAiB,GAAG;AACxB,QAAQ,CAAC,CAAC,iBAAiB,GAAG,cAAc,CAAC,eAAe;AAC5D,UAAU,iBAAiB;AAC3B,QAAQ;AACR,QAAQ,GAAG;;AAEX,EAAE,cAAc,CAAC,oBAAoB,GAAG,oBAAoB;AAC5D,EAAE,cAAc,CAAC,iBAAiB,GAAG,iBAAiB;;AAEtD,EAAE,OAAO,cAAc;AACvB,CAAC;;AC5HM,eAAe,KAAK;AAC3B,EAAE,OAAO;AACT,EAAE,eAAe,GAAG,QAAQ;AAC5B,EAAE,WAAW,GAAG;AAChB,EAAE;AACF,EAAE,MAAM,OAAO,GAAG,IAAI,GAAG,EAAE;AAC3B,EAAE,MAAM,OAAO,GAAG,CAAC,OAAO,CAAC;AAC3B,EAAE,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;AAE5D,EAAE,MAAM,SAAS,GAAG,OAAO,GAAG,KAAK;AACnC,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC1B,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;AACpB,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,OAAO,EAAE;AACxC,IAAI,IAAI;AACR,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC,CAAC;AAC/C,MAAM,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,cAAc,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;AACzE,MAAM,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC;AACxC,QAAQ,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,CAAC;AACvD,WAAW,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI;AAC5B,WAAW,MAAM;AACjB,YAAY,CAAC,IAAI;AACjB,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG;AAC7E;AACA,OAAO;AACP,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC9B,QAAQ,MAAM,aAAa,GAAG,YAAY,CAAC,IAAI,EAAE,OAAO,CAAC;AACzD,QAAQ;AACR,UAAU,aAAa;AACvB,UAAU,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;AAC3C,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;AACrC,UAAU,CAAC,WAAW,CAAC,aAAa;AACpC,UAAU;AACV,UAAU,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;AACrC;AACA,OAAO,CAAC;AACR,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC;AAChE,KAAK,SAAS;AACd,MAAM,MAAM,IAAI,CAAC,KAAK,EAAE;AACxB;AACA,GAAG;;AAEH,EAAE,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,IAAI,GAAG,eAAe,EAAE;AAC/D,IAAI,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC;AAC7E,IAAI,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;AAC5B;;AAEA,EAAE,MAAM,OAAO,CAAC,KAAK,EAAE;AACvB,EAAE,OAAO,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;AAC5B;;AChDA,MAAM,WAAW,GAAG,CAAC;AACrB,MAAM,WAAW,GAAG,IAAI,CAAC;;AAEzB,MAAM,KAAK,GAAG,CAAC,EAAE,KAAK,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;;AAEhE,MAAM,YAAY,GAAG,OAAO,IAAI,EAAE,WAAW,GAAG,CAAC,KAAK;AAC7D,EAAE,MAAM,OAAO,GAAG,EAAE;AACpB,EAAE,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;AAE5D,EAAE,MAAM,WAAW,GAAG,OAAO,GAAG,EAAE,OAAO,GAAG,CAAC,KAAK;AAClD,IAAI,IAAI,IAAI;AACZ,IAAI,IAAI;AACR,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC,CAAC;AAC1C,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,OAAO,EAAE;AACpC,MAAM,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,cAAc,EAAE,CAAC;AACzD,MAAM,MAAM,GAAG,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC;AACxC,MAAM,MAAM,MAAM,GAAG,MAAM,GAAG,CAAC,OAAO,EAAE;AACxC,MAAM,MAAM,cAAc,GAAG,MAAM,sBAAsB,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC;AAC3E,MAAM,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;AAClC,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC;AACjE,MAAM,IAAI,OAAO,GAAG,WAAW,EAAE;AACjC,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;AAC3E,QAAQ,MAAM,KAAK,CAAC,WAAW,CAAC;AAChC,QAAQ,MAAM,WAAW,CAAC,GAAG,EAAE,OAAO,GAAG,CAAC,CAAC;AAC3C;AACA,KAAK,SAAS;AACd,MAAM,IAAI,IAAI,EAAE;AAChB,QAAQ,MAAM,IAAI,CAAC,KAAK,EAAE;AAC1B;AACA;AACA,GAAG;;AAEH,EAAE,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,WAAW,CAAC,GAAG,CAAC,CAAC;AACtD,EAAE,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;;AAE7B,EAAE,MAAM,OAAO,CAAC,KAAK,EAAE;;AAEvB,EAAE,OAAO,CAAC,GAAG;AACb,IAAI,CAAC,4BAA4B,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACpE,GAAG;AACH,EAAE,OAAO,OAAO;AAChB,CAAC;;ACzCM,MAAM,iBAAiB,GAAG,OAAO,OAAO,KAAK;AACpD,EAAE,MAAM,UAAU,GAAG;AACrB,KAAK,GAAG;AACR,MAAM,CAAC,MAAM,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,SAAS;AAC9E;AACA,KAAK,IAAI,CAAC,EAAE,CAAC;;AAEb,EAAE,MAAM,WAAW,GAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE,UAAU,CAAC;AAC5C;AACA,MAAM,EAAE;AACR,SAAS,GAAG;AACZ,UAAU,CAAC,MAAM,EAAE,CAAC,KAAK;AACzB;AACA,wBAAwB,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC;AACrD;AACA,kCAAkC,EAAE,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;AAC/D,iCAAiC,EAAE,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;AAC7D,uCAAuC,EAAE,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC;AACpE,+BAA+B,EAAE,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC;AACzD;AACA;AACA;AACA;AACA;AACA,cAAc,EAAE,MAAM,CAAC;AACvB,iBAAiB,GAAG,CAAC,CAAC,SAAS;AAC/B,kBAAkB,SAAS,CAAC;AAC5B,qBAAqB,GAAG;AACxB,sBAAsB,CAAC,IAAI,KAAK;AAChC;AACA,4BAA4B,EAAE,SAAS,CAAC,EAAE,CAAC;AAC3C,4BAA4B,EAAE,SAAS,CAAC,MAAM,CAAC;AAC/C,4BAA4B,EAAE,SAAS,CAAC,WAAW,CAAC;AACpD,2DAA2D,EAAE,IAAI,CAAC,IAAI,CAAC;AACvE,4BAA4B,EAAE,IAAI,CAAC,cAAc,CAAC;AAClD;AACA,sBAAsB;AACtB;AACA,qBAAqB,IAAI,CAAC,EAAE;AAC5B;AACA,iBAAiB,IAAI,CAAC,EAAE,CAAC;AACzB;AACA;AACA,UAAU;AACV;AACA,SAAS,IAAI,CAAC,EAAE,CAAC;AACjB;AACA;AACA,EAAE,CAAC;;AAEH,EAAE,MAAM,OAAO,GAAG,MAAM,SAAS,CAAC,MAAM,EAAE;AAC1C,EAAE,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,OAAO,EAAE;AACtC,EAAE,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,EAAE,SAAS,EAAE,cAAc,EAAE,CAAC;AACnE,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC;AACjB,IAAI,IAAI,EAAE,aAAa;AACvB,IAAI,MAAM,EAAE,IAAI;AAChB,IAAI,eAAe,EAAE,IAAI;AACzB,IAAI,MAAM,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;AACtE,GAAG,CAAC;AACJ,EAAE,MAAM,OAAO,CAAC,KAAK,EAAE;AACvB,CAAC;;AAEM,MAAM,kBAAkB,GAAG,YAAY;AAC9C,EAAE,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO;AACnC,IAAI,OAAO,CAAC,GAAG,CAAC,uBAAuB;AACvC,IAAI;AACJ,GAAG;AACH,EAAE,MAAM,WAAW,GAAG,UAAU;;AAEhC,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;AACpC,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,2BAA2B,EAAE,YAAY,CAAC,CAAC,CAAC;AACjE;;AAEA,EAAE,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE;AACnC,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,0BAA0B,EAAE,WAAW,CAAC,CAAC,CAAC;AAC/D;;AAEA,EAAE,MAAM,eAAe,GAAG,EAAE,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM,CAAC;AAC/D,EAAE,MAAM,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC;;AAE1D,EAAE,MAAM,eAAe,GAAG,eAAe,CAAC,OAAO;AACjD,IAAI,4DAA4D;AAChE,IAAI,CAAC,4BAA4B,EAAE,WAAW,CAAC,UAAU;AACzD,GAAG;;AAEH,EAAE,EAAE,CAAC,aAAa,CAAC,cAAc,EAAE,eAAe,CAAC;AACnD,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,yBAAyB,EAAE,cAAc,CAAC,CAAC,CAAC;AAC3D,CAAC;;ACjHW,MAAC,IAAI,GAAG,YAAY;AAChC,EAAE,IAAI;AACN,IAAI,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC;AAC3C,IAAI,MAAM,MAAM,GAAG,UAAU,EAAE;;AAE/B,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AACzB,MAAM,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC;AACjE;;AAEA,IAAI,OAAO,CAAC,GAAG,CAAC,oCAAoC,EAAE,MAAM,CAAC;;AAE7D,IAAI,IAAI,WAAW,GAAG,EAAE;AACxB,IAAI,MAAM,YAAY,GAAG,IAAI,GAAG,EAAE;;AAElC,IAAI,IAAI,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;AACnC,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,8BAA8B,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC;AACnE,MAAM,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;AAC1E,MAAM,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClE;;AAEA,IAAI,IAAI,MAAM,CAAC,aAAa,IAAI,MAAM,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;AACjE,MAAM,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC;AAC/D,MAAM,WAAW,GAAG,MAAM,CAAC,aAAa,CAAC,GAAG;AAC5C,QAAQ,CAAC,IAAI,KAAK,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC;AAC3C,OAAO;AACP,KAAK,MAAM;AACX,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;AACpE,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,eAAe,CAAC;AACvE;;AAEA,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,iBAAiB,EAAE,WAAW,CAAC,CAAC,CAAC;;AAElD,IAAI,MAAM,OAAO,GAAG,MAAM,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC;;AAEvE,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;AAExE,IAAI,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM;AACrC,MAAM,CAAC,cAAc,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG;AAC9D,KAAK;;AAEL,IAAI,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACpC,IAAI,WAAW,CAAC,UAAU,CAAC;AAC3B,IAAI,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC;AAC3C,IAAI,MAAM,iBAAiB,CAAC,UAAU,CAAC;AACvC,IAAI,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC;AAC5C,IAAI,MAAM,kBAAkB,EAAE;AAC9B,IAAI,OAAO,CAAC,GAAG,CAAC,gDAAgD,CAAC;AACjE,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;AAC1D,IAAI,MAAM,KAAK,CAAC;AAChB;AACA;;AAEA,IAAI,EAAE;;;;"}